# リリースノート

## v1.0.0（2026-02-27）

minato Writing Studio の初回安定版リリースです。  
「港に届いた例外」の執筆体験を支える主要機能を一通り搭載し、継続利用できる品質基盤を整えました。

### ✨ 主要機能
- **シーン管理**
  - 章・タイトル・概要・ステータス（未着手 / 執筆中 / 完成）を管理
- **構成ビュー**
  - 章ツリーで全体像を把握し、文字数を集計
- **縦書きプレビュー**
  - iframeを使った縦組み表示で、小説レイアウトを確認
- **AI執筆支援（Claude連携）**
  - 続き提案（200字）
  - 文章推敲（3案）
  - 執筆ヒント（3点）
  - 矛盾チェック
  - 概要自動生成
  - 世界観拡張メモ
- **保存・復元・出力**
  - 900msデバウンスによる自動保存（Supabase）
  - 最大5世代のバックアップ
  - Markdown / テキスト形式エクスポート
- **PWA対応**
  - ホーム画面追加・オフライン対応

### 🔧 品質と運用基盤
- `App.tsx` の責務を分離し、`useStudioState` と View コンポーネント群へリファクタリング
- APIプロキシのバリデーションを強化（入力形式・文字数・メッセージ構造）
- ESLint / TypeScript / Vitest による品質ゲートを整備
- Vercel向けデプロイフローを整理し、APIキーをクライアントに露出させない構成を明確化

### 🔐 セキュリティ
- APIキーはサーバー側（Vercel Functions）でのみ管理
- Supabase RLS によりユーザー単位でデータ分離
- 縦書きプレビュー iframe との通信でオリジン検証を実施

### 📝 既知の注意点
- Cloudflare Pages 単体では `/api/anthropic` が動作しないため、AI機能には別途バックエンドプロキシが必要です。
- 大規模原稿（数万字規模）では、端末性能により描画負荷が高まる場合があります。

---

## 今後の予定
- 大規模原稿向けパフォーマンス最適化（再レンダリング抑制）
- 運用監視（例: Sentry）によるエラー可視化
- 創作ドメイン機能の拡張（キャラクター管理・プロット生成の強化）
